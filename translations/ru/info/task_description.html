<p>
<i>
Это пятая и последняя (пока что) миссия про классическую криптографию. В ней мы попробуем взломать шифр Плейфера с помощью атаки на основе открытого текста. Чтобы узнать больше об этом шифре, обратите внимание на миссию <a href="https://py.checkio.org/mission/playfair-cipher/">Playfair Cipher</a>.
</i>
</p>
<p>
<em>Шифр Плейфера</em> - ручной подстановочный шифр, изобретен в 1854 году. В отличие от других использовавшихся в то время подстановочных шифров, шифр Плейфера работает не с отдельными буквами, а с парами букв, или <em>биграммами.</em> Вспомним, как работает алгоритм шифрования:
</p>
<p>
В качестве ключа используется таблица размера 5х5 (для латиницы), в которую записаны буквы алфавита в случайном порядке (буква <strong>J</strong> заменяется на <strong>I</strong>). Сообщение разбивается на биграммы, причем буквы в биграмме должны быть разными (для этого между парными буквами сообщения вставляют <strong>X</strong> или другую редкую букву). Каждая биграмма шифруется по следующим правилам:
</p>
<p>
1. Если обе буквы находятся на одной строке ключевой таблицы, то каждая заменяется на букву <strong>справа</strong> от нее (считается, что за последним столбцом идет первый);
</p>
<p>
2. Если обе буквы находятся в одном столбце - каждая заменяется на букву <strong>под</strong> ней (считается, что под последней строкой находится первая);
</p>
<p>
3. В остальных случаях буквы биграммы находятся на противоположных углах прямоугольника, и заменяются на буквы, лежащие в двух других углах этого же прямоугольника (порядок следования важен - первой буквой зашифрованной биграммы будет та, которая лежит в одной <strong>строке</strong> с первой буквой изначальной биграммы.
</p>

<p> Например, если нам дана ключевая таблица: </p>
<pre>
d f o l s
e a r m c
b z h q p
t g i n x
k u v y w
</pre>

<p> 
Тогда слово <em><strong>secret</strong></em> будет зашифровано как <em><strong>dcembk.</strong></em>

<p>
Для расшифрования применяются те же правила, только когда буквы лежат в одной строке или столбце, нужно брать, соответственно, буквы <strong>слева</strong> и <strong>сверху.</strong>
</p>
<p>
В этом задании вы должны найти ключевую таблицу шифра Плейфера. Вам известны открытый текст сообщения и соответствующая ему криптограмма. Открытый текст не нуждается в какой либо обработке - все биграммы в нем будут разными, а буквы J - заменены на I. Ваша функция должна найти ключевую таблицу и использовать ее для зашифрования кодовой фразы <em><strong>"topsecretmessage".</strong></em>
</p>
<p>
Замечание: для каждого примера в этом задании гарантированно имеется одно решение. 
</p>
<p>
<strong>Входные данные: </strong>открытый текст и криптограмма в строковом виде
</p>
<p>
<strong>Output: </strong>зашифрованная фраза в виде строки
</p>

<div class="for_info_only">
<p>
<strong>Пример:</strong>
</p>
<pre class="brush: python">
playfair_attack('pythonsxstandardlibraryisveryextensiveofferingawiderangeofstuffx',
                'aiwblarskwphydowzehmhoieksxlixgwvufxlvzqvizxbehdycxlphyxzqkwcvsi') == 'dmhfiulxgbxvqhyx'
</pre>
</div>

<p>
    <strong>Условия:</strong><br>
    len(plaintext) == len(cryptogram)<br>
    len(plaintext) % 2 == 0 <br>
    all([l in 'abcdefghiklmnopqrstuvwxyz' for l in plaintext])<br>
    all([l in 'abcdefghiklmnopqrstuvwxyz' for l in cryptogram])<br>
</p>
